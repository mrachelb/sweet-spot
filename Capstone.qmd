---
title: "Capstone Project"
author: "Alex, Rachel, Vlatko, Malte"
date: "2024-06-06"
format: html
execute: 
  cache: true
  echo: false
  error: true
jupyter: python3
editor:
  render-on-save: true
---

# load libraries and data

```{python}
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
d = pd.read_csv("data/daily_sales_report.csv")

```


# EDA 

```{python}
d.head()
```

```{python}
d["type_name"].value_counts()
```


```{python}

```


```{python}
Changes Vlatko
```

```{python}

```


# data cleaning

```{python}
d['date'] =pd.to_datetime(d['date'])
d['weekday'] =d['date'].dt.dayofweek
d.weekday.value_counts()
```

# Feature engeneering - Categorizing
```{python}
donut_counts = d.loc[d["type_name"] == "donuts", "item_name"].value_counts()
donut_counts.head(30)
```
```{python}
different_products = ['Star Wars Day', 'Pizza Hawaii', 'Grilled Cheese', 'Pie Day', 'Bat', 'Cat Day', 'NYE: Tonka Cream', 'Zimtstern Donut', 'Free Donut Softeis ', 'Cookie Softie Sandwich', 'Choc Custard Filled', 'Free Donut Upgrade', 'Strawberry Bun', 'Fried Chicken & Donut Waffle', 'Waffle + Maple Syrup', 'Chicken Waffle Sriracha', 'Chicken Waffle Truffle', 'Waffle + Sriracha ', 'Chicken Waffle Maple', 'Grilled Cheese with Jalape√±os', 'Waffle + Truffle3', 'Grilled Cheese + Jalapenos', 'Classic Hot Dog', 'Special Hot Dog', 'Waffle + Truffle', 'Free Berliner', 'Letter Donuts']
```
```{python}
# Define the categories
classics = [
    'Strawberry Sprinkles', 'White Choc & Strawberries', 'Choc Sprinkles', 
    'Cinnamon Sugar', 'Boston Cream', 'Classic Donut'
]
specials = [
    'Blueberry Lemon Cheesecake', 'Chocolate Bomboloni', 'Apple Pie', 
    'Bienenstich', 'Special Donut'
]
monthly_specials = [
    'Passionfruit', 'Strawberry Shortcake', 'Strawberries & Cream', 
    'Lemon Tart', 'Pistachio Dream'
]
different_products = ['Different Product']

# Function to determine the category
def categorize_item(item_name):
    if item_name in classics:
        return 'classics'
    elif item_name in specials:
        return 'specials'
    elif item_name in monthly_specials:
        return 'monthly_specials'
    elif item_name in different_products:
        return 'not_donut'
    elif item_name == 'donuts sold (old)':  # Corrected syntax
        return 'old'
    else:
        return 'other'

# Apply the function to create the 'item_category' column
d['item_category'] = d['item_name'].apply(categorize_item)

# Display the DataFrame
d.tail(10)
```
```{python}
# Filter the DataFrame for rows where type_name is 'donut group'
donut_group_items = d[d['type_name'] == 'donut group']

# Get the unique values in the item_name column for the filtered rows
unique_donut_group_items = donut_group_items['item_name'].value_counts()

# Display the unique item names
print(unique_donut_group_items)
```
```{python}
d.loc[d['item_name'] == 'Special Donut', 'item_category']
```